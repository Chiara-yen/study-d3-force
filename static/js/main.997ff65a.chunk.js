(this.webpackJsonpforce=this.webpackJsonpforce||[]).push([[0],{113:function(t,e,n){t.exports=n(123)},118:function(t,e,n){},119:function(t,e,n){},120:function(t,e,n){},123:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),c=n(50),i=n.n(c),u=(n(118),n(52)),a=(n(119),n(120),n(1)),l="click_node",d="click_hull",s=a.a(l,d),g={WIDTH:window.innerWidth||960,HEIGHT:600},f="hulls",p="hull",x="nodes",k="node-group",h=30,m=function(t){return a.i[t%10]},v="links",y="link";var E=n(2);function b(t){return t.select(".".concat(x)).selectAll(".".concat(k))}function O(t){return t.select(".".concat(v)).selectAll(".".concat(y))}function j(t){return t.select(".".concat(f)).selectAll(".".concat(p))}var w=[],I=[],B={};function H(){return B}function S(t){b(t).attr("transform",(function(t){return"translate(".concat(t.x,",").concat(t.y,")")})),O(t).attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),j(t).attr("d",(function(t){var e=function(t){if(E.isEmpty(t))return[];var e=t.reduce((function(t,e,n){return t[n]&&t[n].length<2||(t.push([e.x-30,e.y-30]),t.push([e.x-30,e.y+30]),t.push([e.x+30,e.y-30]),t.push([e.x+30,e.y+30])),t}),[]),n=a.h(e);return n.push(n[0]),n}(H()[t]);return a.g()(e)}))}function N(t){var e=this;return t.append("path").attr("class","hull").style("stroke",(function(t){return m(t)})).style("fill",(function(t){return m(t)})).on("click",(function(t){return s.call(d,e,t)}))}function C(t){return t.append("line").attr("class",y)}function J(t){var e=this,n=t.append("g").attr("class",k).attr("node-id",(function(t){return t.id})).on("click",(function(t){return s.call(l,e,t)}));return n.append("circle").attr("class","node").attr("r",h).attr("fill",(function(t){return m(t.group)})),n.append("text").attr("class","node-label").text((function(t){return t.text})),n}function T(t){return t.selectAll("circle").attr("fill",(function(t){return m(t.group)})),t}function W(t,e,n){var r=n.nodes,o=n.links,c=b(t),i=new Map(c.data().map((function(t){return[t.id,t]}))),u=r.map((function(t){return Object.assign(i.get(t.id)||{},t)})),a=o.map((function(t){return Object.assign({},t)}));c.data(u,(function(t){return t.id})).join(J,T),O(t).data(a,(function(t){return[t.source,t.target]})).join(C),j(t).data(E.unionBy(u.map((function(t){return t.group}))),(function(t){return t})).join(N),e.nodes(u),e.force("link").links(a),e.alpha(1).restart(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];w=t,I=e,B=E.groupBy(t,"group")}(u,a)}function A(t,e,n){var r=w,o=I,c=H()[n],i=E.get(c,"[0].nodes"),u=r.filter((function(t){return t.group!==n})),a=c.length>=2,l=!a&&Boolean(i);if(a){var d={nodes:c,id:"group-".concat(n),text:"group-".concat(n),group:n,x:E.meanBy(c,"x"),y:E.meanBy(c,"y"),vx:E.meanBy(c,"vx"),vy:E.meanBy(c,"vy")};W(t,e,{nodes:u.concat(d),links:o.map((function(t){return t.source.group===n&&(t.sourceOriginalId=E.clone(t.source.id),t.source="group-".concat(n)),t.target.group===n&&(t.targetOriginalId=E.clone(t.target.id),t.target="group-".concat(n)),t}))})}l&&W(t,e,{nodes:u.concat(i),links:o.map((function(t){return t.source.group===n&&(t.source=t.sourceOriginalId),t.target.group===n&&(t.target=t.targetOriginalId),t}))})}function D(t){var e,n=(e=t,a.j(e).attr("width",g.WIDTH).attr("height",g.HEIGHT)),r=a.f().force("charge",a.e()).force("center",a.b(g.WIDTH/2,g.HEIGHT/2)).force("collision",a.c(h)).force("link",a.d().id((function(t){return t.id})).distance(200));r.on("tick",(function(){return S(n)})),function(t){t.append("g").attr("class",f)}(n),function(t){t.append("g").attr("class",v)}(n),function(t){t.append("g").attr("class",x)}(n),s.on(d,(function(t){return A(n,r,t)}));var o={update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return W(n,r,t)},setNodeClickCallback:function(t){return s.on(l,t)}};return Object.assign(n.node(),o)}var G=function(t){var e=t.data,n=Object(r.useRef)(null),c=Object(r.useRef)(null);return Object(r.useEffect)((function(){c.current=D(n.current),c.current.setNodeClickCallback((function(t){return console.log("clicked node =>",t)}))}),[n]),Object(r.useEffect)((function(){c.current.update(e)}),[e]),o.a.createElement("svg",{ref:n})};function L(t){var e=t.data,n=e.links,r=e.nodes;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Data"),o.a.createElement("hr",null),o.a.createElement("h2",null,"Node List"),o.a.createElement("code",null,JSON.stringify(r)),o.a.createElement("hr",null),o.a.createElement("h2",null,"Link List"),o.a.createElement("code",null,JSON.stringify(n)))}var F=n(16),M=n(51);var R=function(){var t=Object(r.useState)(F),e=Object(u.a)(t,2),n=e[0],c=e[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(G,{data:n}),o.a.createElement("button",{type:"button",onClick:function(){return c(F)}},"Set data 1"),o.a.createElement("button",{type:"button",onClick:function(){return c(M)}},"Set data 2"),o.a.createElement(L,{data:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},16:function(t){t.exports=JSON.parse('{"nodes":[{"id":0,"text":"node-0","group":3},{"id":1,"text":"node-1","group":2},{"id":2,"text":"node-2","group":4},{"id":3,"text":"node-3","group":1},{"id":4,"text":"node-4","group":1},{"id":5,"text":"node-5","group":9},{"id":6,"text":"node-6","group":2},{"id":7,"text":"node-7","group":3},{"id":8,"text":"node-8","group":5},{"id":9,"text":"node-9","group":5}],"links":[{"id":0,"source":0,"target":1,"text":"link-0"},{"id":1,"source":1,"target":0,"text":"link-1"},{"id":2,"source":1,"target":0,"text":"link-2"},{"id":3,"source":2,"target":1,"text":"link-3"},{"id":4,"source":3,"target":2,"text":"link-4"},{"id":5,"source":4,"target":0,"text":"link-5"},{"id":6,"source":5,"target":0,"text":"link-6"},{"id":7,"source":6,"target":0,"text":"link-7"},{"id":8,"source":7,"target":0,"text":"link-8"},{"id":9,"source":8,"target":9,"text":"link-9"},{"id":10,"source":9,"target":0,"text":"link-10"}]}')},51:function(t){t.exports=JSON.parse('{"nodes":[{"id":0,"text":"node-0","group":1},{"id":1,"text":"node-1","group":1},{"id":2,"text":"node-2","group":1},{"id":3,"text":"node-3","group":1},{"id":4,"text":"node-4","group":1},{"id":5,"text":"node-5","group":1},{"id":6,"text":"node-6","group":1},{"id":7,"text":"node-7","group":1},{"id":8,"text":"node-8","group":1},{"id":9,"text":"node-9","group":1},{"id":10,"text":"node-10","group":2},{"id":11,"text":"node-11","group":2}],"links":[{"id":0,"source":0,"target":1,"text":"link-0"},{"id":1,"source":1,"target":0,"text":"link-1"},{"id":2,"source":1,"target":0,"text":"link-2"},{"id":3,"source":2,"target":1,"text":"link-3"},{"id":4,"source":3,"target":2,"text":"link-4"},{"id":5,"source":4,"target":0,"text":"link-5"},{"id":6,"source":5,"target":0,"text":"link-6"},{"id":7,"source":6,"target":0,"text":"link-7"},{"id":8,"source":7,"target":0,"text":"link-8"},{"id":9,"source":8,"target":9,"text":"link-9"},{"id":10,"source":9,"target":0,"text":"link-10"},{"id":11,"source":10,"target":5,"text":"link-11"},{"id":12,"source":10,"target":11,"text":"link-12"}]}')}},[[113,1,2]]]);
//# sourceMappingURL=main.997ff65a.chunk.js.map